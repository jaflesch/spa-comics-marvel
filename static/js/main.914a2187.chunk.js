(this["webpackJsonpsoftdesign-frontend-challenge"]=this["webpackJsonpsoftdesign-frontend-challenge"]||[]).push([[0],[,,function(e,t,a){e.exports={Container:"ModalMail_Container__1NVXF",Animation:"ModalMail_Animation__2wSEt",Large:"ModalMail_Large__2PXwC",Small:"ModalMail_Small__IXc85",Header:"ModalMail_Header__GlyT4",Title:"ModalMail_Title__2tsFC",CloseButton:"ModalMail_CloseButton__R6xDf",Body:"ModalMail_Body__7Jj9k",List:"ModalMail_List__3_7Q4",ListDefault:"ModalMail_ListDefault__32hF4",Thumbnail:"ModalMail_Thumbnail__1_9YR",Text:"ModalMail_Text__26G8q",Checkbox:"ModalMail_Checkbox__2R7MJ",ComicTitle:"ModalMail_ComicTitle__2mAJ-",Cancel:"ModalMail_Cancel__XtmVy",RemoveComic:"ModalMail_RemoveComic__1IWJp",Form:"ModalMail_Form__sPgEt",Footer:"ModalMail_Footer__1Lx97"}},function(e,t,a){e.exports={Container:"Modal_Container__3u8uZ",Animation:"Modal_Animation__3PGGz",Header:"Modal_Header__CHxTQ",Title:"Modal_Title__2aDPp",CloseButton:"Modal_CloseButton__2R0J3",Body:"Modal_Body__PC-MP",Detail:"Modal_Detail__1vzaA",Thumbnail:"Modal_Thumbnail__3hpZa",Text:"Modal_Text__1qRfo",ComicDescription:"Modal_ComicDescription__2S6vf",ComicPrice:"Modal_ComicPrice__LY1_p",DigitalIssue:"Modal_DigitalIssue__2ocfo",ComicTitle:"Modal_ComicTitle__3WrPd",Cancel:"Modal_Cancel__1mksA",URLArea:"Modal_URLArea__GfCde",URLButton:"Modal_URLButton__1TRXq",Footer:"Modal_Footer__hwjZX"}},,,,function(e,t,a){e.exports={Card:"ComicCard_Card__27-cE",Thumbnail:"ComicCard_Thumbnail__2agdT",Fog:"ComicCard_Fog__2sai7",Checkbox:"ComicCard_Checkbox__1sv_U",ThumbnailContainer:"ComicCard_ThumbnailContainer__zTfIs",Title:"ComicCard_Title__2atov",PageCount:"ComicCard_PageCount__TmUas"}},,,,function(e,t,a){e.exports={Grid:"CardList_Grid__26cuO",Feedback:"CardList_Feedback__2vsDH",Loader:"CardList_Loader__1g_6m",LazyLoadContainer:"CardList_LazyLoadContainer__22S65"}},function(e,t,a){e.exports={Alert:"Alert_Alert__MPlu3",WithType:"Alert_WithType__3yVn3",Content:"Alert_Content__3vxqK",Icon:"Alert_Icon__3l8bZ",Warning:"Alert_Warning__1Xt7e",Danger:"Alert_Danger__3cc6G"}},,,,function(e,t,a){e.exports={Logo:"Header_Logo__zXY9F",Container:"Header_Container__WkPE-",Challenge:"Header_Challenge__2CDwd",ChallengeTitle:"Header_ChallengeTitle__34wJY"}},,,function(e,t,a){e.exports={Container:"Checkbox_Container__W8IxR",Checkmark:"Checkbox_Checkmark__1nmdQ"}},,,,,,,,,,,function(e,t,a){e.exports={Container:"MainContent_Container__3K1Oh"}},function(e,t,a){e.exports={Container:"Form_Container__2dZ9V"}},function(e,t,a){e.exports={Main:"Footer_Main__3jtan"}},function(e,t,a){e.exports={Style:"Button_Style__1upJc"}},function(e,t,a){e.exports={Loader:"Loader_Loader__1QPQH",load8:"Loader_load8__3-jH8"}},function(e,t,a){e.exports={Wrapper:"Backdrop_Wrapper__2tJAL"}},function(e,t,a){e.exports={Container:"SocialMediaList_Container__204iG"}},function(e,t,a){e.exports={Button:"SendEmailButton_Button__38juc"}},,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),s=a.n(i),c=a(28),o=a.n(c),l=(a(44),a(45),a(8)),r=a(5),d=a(6),h=a(10),u=a(9),m={author:"Jean Flesch",title:"SoftDesign React Challenge",emailJs:{serviceId:"23g3lpb",templateId:"marvelcomic",userId:"user_t6yHlRRXjluyONK5MfslZ",replyTo:"jean.flesch93@gmail.com"}},j=s.a.createContext({author:"Jean Flesch",title:"SoftDesign React Challenge",emailJs:{serviceId:"23g3lpb",templateId:"marvelcomic",userId:"user_t6yHlRRXjluyONK5MfslZ",replyTo:"jean.flesch93@gmail.com"},selectedCards:[]}),b=a(29),p=a.n(b),f=function(){function e(){Object(r.a)(this,e),this.publicKey="9f10519dd487fe90f4db3fece4c12da0",this.baseURL="https://gateway.marvel.com:443/v1/public",this.axiosInstance=p.a.create({baseURL:this.baseURL})}return Object(d.a)(e,[{key:"getCharacters",value:function(e){return this.axiosInstance.get("/characters?apikey=".concat(this.publicKey)).then((function(e){return e.data}))}},{key:"getComics",value:function(e,t,a){var n=e?"titleStartsWith=".concat(e):"";return t=t?"&offset=".concat(t):"",this.axiosInstance.get("/comics?".concat(n,"&orderBy=-focDate").concat(t,"&apikey=").concat(this.publicKey)).then((function(e){return e.data}))}},{key:"getComicById",value:function(e){return this.axiosInstance.get("/comics/".concat(e,"?apikey=").concat(this.publicKey)).then((function(e){return e.data}))}}]),e}(),_=a(16),C=a.n(_),x=a.p+"static/media/marvel.99c8a213.svg",O=function(e){var t=[];return e.classes&&(t="string"===typeof e.classes?e.classes:e.classes.join(" ")),Object(n.jsx)("img",{src:x,alt:"Marvel",className:t})},v=function(){var e=Object(i.useContext)(j);return Object(n.jsxs)("header",{className:C.a.Container,children:[Object(n.jsx)(O,{classes:C.a.Logo}),Object(n.jsx)("div",{className:C.a.Challenge,children:Object(n.jsx)("h1",{className:C.a.ChallengeTitle,children:e.title})})]})},g=a(30),M=a.n(g),y=function(e){return Object(n.jsx)("main",{className:M.a.Container,children:e.children})},L=a(31),k=a.n(L),N=function(e){return Object(n.jsxs)("form",{className:k.a.Container,children:[Object(n.jsx)("input",{id:"comic-title",type:"text",onChange:e.changed,placeholder:"Pesquisar"}),Object(n.jsx)("button",{onClick:e.submited,children:Object(n.jsx)("i",{className:"fas fa-search"})})]})},T=a(32),S=a.n(T),I=function(e){return Object(n.jsx)("footer",{className:S.a.Main,children:e.children})},D=a(11),F=a.n(D),H=a(15),w=a(7),B=a.n(w),A=a(33),P=a.n(A),R=function(e){var t=[P.a.Style];return e.classes&&("string"===typeof e.classes?t.push(e.classes):t.push.apply(t,Object(l.a)(e.classes))),Object(n.jsx)("button",{className:t.join(" "),onClick:e.onClick,children:e.children})},J=a(19),z=a.n(J),E=function(e){var t=[z.a.Container];return e.className&&(t.push(e.className),t=t.join(" ")),Object(n.jsxs)("label",{className:t,children:[e.label,Object(n.jsx)("input",{type:"checkbox",checked:e.checked,onChange:e.changed}),Object(n.jsx)("span",{className:z.a.Checkmark,onChange:e.changed})]})},U=function(e){var t=new Date(e),a=t.getDate(),n=t.getFullYear(),i=t.getMonth();switch(i){case 0:i="Janeiro";break;case 1:i="Fevereiro";break;case 2:i="Mar\xe7o";break;case 3:i="Abril";break;case 4:i="Maio";break;case 5:i="Junho";break;case 6:i="Julho";break;case 7:i="Agosto";break;case 8:i="Setembro";break;case 9:i="Outubro";break;case 10:i="Novembro";break;case 11:i="Dezembro"}return"".concat(i," ").concat(a,", ").concat(n)},q=function(e){return e?"".concat(e.path,".").concat(e.extension):""},W=function(e){var t,a='\n        <table style="'.concat("border-collapse: collapse; border: 1px solid #ccc;width:100%;",'" border="1">\n            <thead>\n                <th></th>\n                <th>T\xedtulo</th>\n                <th>Formato</th>\n                <th>Descri\xe7\xe3o</th>\n            </thead>\n            <tbody>\n    ').trim(),n=Object(H.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,s="vertical-align:middle;padding: 10px;",c=q(i.thumbnail);a+='\n            <tr>\n                <td style="'.concat(s,'">\n                    <img src="').concat(c,'" style="max-height: 150px;" alt="').concat(i.title,'" />\n                </td>\n                <td style="').concat(s,'">\n                    <strong>').concat(i.title,'</strong>\n                </td>\n                <td style="').concat(s,'">').concat(i.format," / ").concat(i.pageCount,' p\xe1ginas</td>\n                <td style="').concat(s,'" width="30%">').concat(i.description?i.description:"Nenhuma descri\xe7\xe3o fornecida","</td>\n            </tr>\n        ").trim()}}catch(o){n.e(o)}finally{n.f()}return a+="\n            </tbody>\n        </table>\n    ".trim()},G=function(e){var t=Object(i.useContext)(j),a=e.id,s=q(e.thumbnail),c=!1;return t.selectedComics.findIndex((function(e){return e.id===a}))>=0&&(c=!0),Object(n.jsxs)("div",{className:B.a.Card,title:e.title,onMouseEnter:function(e){var t,a=document.querySelectorAll(".".concat(B.a.Card)),n=Object(H.a)(a);try{for(n.s();!(t=n.n()).done;){t.value.classList.add(B.a.Fog)}}catch(i){n.e(i)}finally{n.f()}e.target.classList.remove(B.a.Fog)},onMouseLeave:function(e){var t,a=document.querySelectorAll(".".concat(B.a.Fog)),n=Object(H.a)(a);try{for(n.s();!(t=n.n()).done;){t.value.classList.remove(B.a.Fog)}}catch(i){n.e(i)}finally{n.f()}},children:[Object(n.jsxs)("div",{className:B.a.ThumbnailContainer,children:[Object(n.jsx)("div",{className:B.a.Thumbnail,style:{backgroundImage:"url('".concat(s,"')")}}),Object(n.jsx)("div",{className:B.a.PageCount,children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fab fa-readme"})," ",e.pageCount]})})]}),Object(n.jsx)(E,{className:B.a.Checkbox,changed:t.selectHandler.bind(undefined,e),checked:c}),Object(n.jsx)("h3",{className:B.a.Title,title:e.title,children:e.title}),Object(n.jsx)(R,{onClick:e.showMore,children:"Ver mais"})]})},X=a(34),K=a.n(X),Y=function(e){var t=null;return e.show&&(t=Object(n.jsx)("div",{className:K.a.Loader})),t},Z=a(12),Q=a.n(Z),V=function(e){var t=[Q.a.Alert];return e.type?(t.push(Q.a.WithType),t.push(Q.a[e.type]),e.type,Object(n.jsxs)("div",{className:t.join(" "),children:[Object(n.jsx)("div",{className:Q.a.Icon}),Object(n.jsx)("div",{className:Q.a.Content,children:e.children})]})):Object(n.jsx)("div",{className:t,children:(void 0).props.children})},$=a(35),ee=a.n($),te=function(e){return Object(n.jsx)("div",{className:e.visible?ee.a.Wrapper:null,onClick:e.clicked,children:e.children})},ae=function(e){var t=Object(n.jsx)("div",{className:F.a.Feedback,children:Object(n.jsx)("p",{children:"Nenhum resultado encontrado para a pesquisa realizada."})}),a=null;return e.lazyLoading&&(a=Object(n.jsx)(te,{visible:!0,children:Object(n.jsx)("div",{className:F.a.LazyLoadContainer,children:Object(n.jsx)(Y,{show:!0})})})),e.loading?t=Object(n.jsxs)("div",{className:F.a.Loader,children:[Object(n.jsx)("p",{children:"Carregando..."}),Object(n.jsx)(Y,{show:!0})]}):-1===e.comics?t=Object(n.jsx)("div",{className:F.a.Feedback,children:Object(n.jsx)(V,{type:"Danger",children:"Erro ao acessar API da Marvel. Por favor, tente novamente"})}):e.comics.length>0&&(t=e.comics.map((function(t){return Object(n.jsx)(G,{id:t.id,title:t.title,pageCount:t.pageCount,format:t.format,description:t.description,thumbnail:t.thumbnail,showMore:e.clickedComic.bind(undefined,t.id)},t.id)}))),Object(n.jsxs)("div",{className:F.a.Grid,children:[t,a]})},ne=a(3),ie=a.n(ne),se=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).renderModalBody=function(){if(i.props.loading)return Object(n.jsx)(Y,{show:!0});if(-1===i.props.comic)return Object(n.jsx)(V,{type:"Danger",children:"Ops! Ocorreu um erro ao processar sua requisi\xe7\xe3o. Por favor, tente novamente."});var e=function(e){if(e){var t=e.description,a=e.diamondCode,n=e.digitalId,i=e.format,s=e.id,c=e.isbn,o=e.modified,r=e.pageCount,d=e.title,h=e.urls,u=e.creators?Object(l.a)(e.creators.items):[],m=e.dates[0]?U(e.dates[0].date):"",j=e.dates[1]?U(e.dates[1].date):"",b=e.prices[0]?e.prices[0].price:"",p="".concat(e.thumbnail.path,".").concat(e.thumbnail.extension);return{title:d,description:t,diamondCode:a,digitalId:n,format:i,id:s,isbn:c,modified:o,pageCount:r,creators:u,onSaleDate:m,focDate:j,price:b?"$".concat(b):"Gratuito",thumbnail:p,urls:h}}return null}(i.props.comic),t=e.urls.map((function(e){var t="detail"===e.type?"+ Detalhes":"Comprar";return Object(n.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:ie.a.URLButton,children:t},e.url)})),a=null;return e.digitalId>0&&(a=Object(n.jsx)("a",{href:"".concat(i.readMarvelURL,"/").concat(e.digitalId),className:ie.a.DigitalIssue,target:"_blank",rel:"noreferrer",children:"Dispon\xedvel online"})),Object(n.jsxs)("div",{className:ie.a.Detail,children:[Object(n.jsx)("div",{className:ie.a.Thumbnail,children:Object(n.jsx)("img",{src:e.thumbnail,alt:e.title})}),Object(n.jsxs)("div",{className:ie.a.Text,children:[Object(n.jsx)("h3",{className:ie.a.ComicTitle,children:e.title}),Object(n.jsx)("p",{children:a}),Object(n.jsxs)("p",{children:["Publicado em ",e.onSaleDate]}),Object(n.jsxs)("p",{children:[e.format," / ",e.pageCount," p\xe1ginas "]}),Object(n.jsx)("p",{className:ie.a.ComicDescription,children:e.description?e.description:"Nenhuma descri\xe7\xe3o fornecida"}),Object(n.jsx)("p",{className:ie.a.ComicPrice,children:e.price}),Object(n.jsx)("div",{className:ie.a.URLArea,children:t})]})]})},i.readMarvelURL="https://read.marvel.com/#/book",i}return Object(d.a)(a,[{key:"render",value:function(){var e=[ie.a.Container];this.props.visible&&e.push(ie.a.Animation);var t="Selecionar";if(this.props.comic){var a=this.props.comic.id;this.props.selectedComics.findIndex((function(e){return e.id===a}))>=0&&(t="Remover")}var s=null;return-1!==this.props.comic&&(s=Object(n.jsx)(R,{onClick:this.props.selected.bind(this,this.props.comic),children:t})),Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)(te,{visible:this.props.visible,clicked:this.props.closed}),Object(n.jsxs)("div",{className:e.join(" "),children:[Object(n.jsxs)("div",{className:ie.a.Header,children:[Object(n.jsx)("h3",{className:ie.a.Title,children:"Informa\xe7\xf5es do quadrinho"}),Object(n.jsx)("button",{className:ie.a.CloseButton,onClick:this.props.closed,children:"\xd7"})]}),Object(n.jsx)("div",{className:ie.a.Body,children:this.renderModalBody()}),Object(n.jsxs)("div",{className:ie.a.Footer,children:[Object(n.jsx)(R,{classes:ie.a.Cancel,onClick:this.props.closed,children:"Fechar"}),s]})]})]})}}]),a}(i.Component),ce=a(36),oe=a.n(ce),le=function(e){var t=null;return e.icon&&(t=Object(n.jsx)("i",{className:e.icon})),Object(n.jsxs)("a",{href:e.to,target:e.external?"_blank":"",rel:"noreferrer",children:[t," ",e.children]})},re=function(e){if(e.list){var t=e.list.map((function(e,t){return Object(n.jsx)("li",{children:Object(n.jsx)(le,{external:!0,to:e.url,name:e.name,icon:e.icon})},"".concat(t,"-").concat(e.name))}));return Object(n.jsx)("ul",{className:oe.a.Container,children:t})}return null},de=a(37),he=a.n(de),ue=a(38),me=a.n(ue),je=function(){function e(t){Object(r.a)(this,e),this.serviceId=m.emailJs.serviceId,this.templateId=m.emailJs.templateId,this.userId=m.emailJs.userId,this.replyTo=m.emailJs.replyTo,this.templateParams=t}return Object(d.a)(e,[{key:"setParams",value:function(e){this.templateParams=e}},{key:"send",value:function(e,t){return me.a.send(this.serviceId,this.templateId,this.templateParams,this.userId).then((function(t){"function"===typeof e&&e(t)}),(function(e){"function"===typeof t&&t(e)}))}}]),e}(),be=a(14),pe=a(2),fe=a.n(pe),_e=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).renderModalBody=function(){if(e.props.loading)return Object(n.jsx)(Y,{show:!0});if(-1===e.props.selectedComics)return Object(n.jsx)(V,{type:"Danger",children:"Ops! Ocorreu um erro ao processar sua requisi\xe7\xe3o. Por favor, tente novamente."});if(e.props.emailSent)return Object(n.jsx)("div",{className:fe.a.Detail,children:Object(n.jsx)("ul",{className:fe.a.List,children:Object(n.jsx)("li",{className:fe.a.ListDefault,children:"E-mail enviado com sucesso"})})});var t=null,a=Object(n.jsx)("li",{className:fe.a.ListDefault,children:"Nenhum quadrinho selecionado"});return e.props.selectedComics.length>0&&(a=e.props.selectedComics.map((function(t){var a=q(t.thumbnail);return Object(n.jsxs)("li",{children:[Object(n.jsx)("img",{src:a,className:fe.a.Thumbnail,alt:t.title}),Object(n.jsx)("h4",{className:fe.a.ComicTitle,children:t.title}),Object(n.jsx)(R,{classes:fe.a.RemoveComic,onClick:e.props.removed.bind(Object(be.a)(e),t.id),children:"Remover"})]},t.id)})),t=Object(n.jsxs)("div",{className:fe.a.Form,children:[Object(n.jsx)("label",{children:"Enviar lista para"}),Object(n.jsx)("input",{type:"email",className:fe.a.SendToInput,placeholder:"SEU@EMAIL.COM",onChange:e.props.sendToChanged.bind(Object(be.a)(e)),value:e.props.sendTo}),Object(n.jsx)("i",{className:"fas fa-envelope"})]})),Object(n.jsxs)("div",{className:fe.a.Detail,children:[t,Object(n.jsx)("ul",{className:fe.a.List,children:a})]})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=[fe.a.Container];this.props.visible&&e.push(fe.a.Animation);var t=null;return this.props.selectedComics.length>0&&null!==this.props.sendTo.match(/\S+@\S+\.\S+/)&&(t=Object(n.jsx)(R,{onClick:this.props.submited,children:"Enviar email"})),Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)(te,{visible:this.props.visible,clicked:this.props.closed}),Object(n.jsxs)("div",{className:e.join(" "),children:[Object(n.jsxs)("div",{className:fe.a.Header,children:[Object(n.jsx)("h3",{className:fe.a.Title,children:"Quadrinhos selecionados"}),Object(n.jsx)("button",{className:fe.a.CloseButton,onClick:this.props.closed,children:"\xd7"})]}),Object(n.jsx)("div",{className:fe.a.Body,children:this.renderModalBody()}),Object(n.jsxs)("div",{className:fe.a.Footer,children:[Object(n.jsx)(R,{classes:fe.a.Cancel,onClick:this.props.closed,children:"Fechar"}),t]})]})]})}}]),a}(i.Component),Ce=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isModalOpen:!1,isLoadingModal:!1,emailSent:!1,sendToInput:""},e.clickHandler=function(){e.setState({isModalOpen:!0,emailSent:!1})},e.closeModalHandler=function(){e.setState({isModalOpen:!1})},e.onSubmitModal=function(){e.setState({isLoadingModal:!0,sendToInput:""}),new je({subject:"Sua lista de quadrinhos Marvel",message:W(e.props.selectedComics),sendTo:e.state.sendToInput}).send((function(t){e.setState({emailSent:!0,isLoadingModal:!1}),e.props.cleared()}))},e.onSendToChange=function(t){var a=t.target.value;a&&(a=a.toLowerCase()),e.setState({sendToInput:a})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)(te,{visible:this.state.isModalOpen,clicked:this.closeModal}),Object(n.jsx)(_e,{visible:this.state.isModalOpen,removed:this.props.removed.bind(this),closed:this.closeModalHandler.bind(this),loading:this.state.isLoadingModal,selectedComics:this.props.selectedComics,submited:this.onSubmitModal.bind(this),sendTo:this.state.sendToInput,sendToChanged:this.onSendToChange.bind(this),emailSent:this.state.emailSent}),Object(n.jsx)("button",{className:he.a.Button,onClick:this.clickHandler,children:Object(n.jsx)("i",{className:"fas fa-paper-plane"})})]})}}]),a}(i.Component),xe=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={comics:[],offsetComics:0,comicDetail:null,searchTitle:"",lastFetchTitle:"",isLoading:!1,isModalOpen:!1,isLoadingModal:!0,isLazyLoading:!1,selectedComics:[]},n.infiniteScroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&(n.setState({isLazyLoading:!0}),n.fetchComics(n.state.searchTitle))},n.fetchComics=function(e){var t=n.state.lastFetchTitle===n.state.searchTitle?n.state.comics.length:0;(new f).getComics(e,t).then((function(e){n.setState((function(a){return{comics:[].concat(Object(l.a)(a.comics),Object(l.a)(e.data.results)),offsetComics:t,isLoading:!1,isLazyLoading:!1}}))})).catch((function(e){n.setState({comics:-1,offsetComics:0,selectedComics:-1,isLoading:!1,isLazyLoading:!1})}))},n.fetchComicById=function(e){(new f).getComicById(e).then((function(e){n.setState({comicDetail:e.data.results[0],isLoadingModal:!1})})).catch((function(e){n.setState({comicDetail:-1,isLoadingModal:!1})}))},n.inputChangedHandler=function(e){n.setState({searchTitle:e.target.value})},n.searchComicsHandler=function(e){e.preventDefault(),n.setState({comics:[],isLoading:!0,offsetComics:0,lastFetchTitle:n.state.searchTitle}),n.fetchComics(n.state.searchTitle)},n.showMoreHandler=function(e){n.setState({isModalOpen:!0,isLoadingModal:!0}),n.fetchComicById(e)},n.closeModalHandler=function(){n.setState({isModalOpen:!1})},n.selectComicHandler=function(e){var t=e.id,a=Object(l.a)(n.state.selectedComics),i=a.findIndex((function(e){return e.id===t}));-1===i?a.push(e):a.splice(i,1),n.setState({selectedComics:a})},n.removeComicHandler=function(e){var t=Object(l.a)(n.state.selectedComics),a=t.findIndex((function(t){return t.id===e}));a>=0&&t.splice(a,1),n.setState({selectedComics:t})},n.clearComics=function(){n.setState({selectedComics:[]})},n.currentYear=(new Date).getFullYear(),n.socialMedia=[{name:"LinkedIn",url:"https://www.linkedin.com/in/jean-flesch-19a189104/",icon:"fab fa-linkedin"},{name:"GitHub",url:"https://github.com/jaflesch",icon:"fab fa-github"}],n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.fetchComics(),window.addEventListener("scroll",this.infiniteScroll)}},{key:"render",value:function(){return Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)(se,{visible:this.state.isModalOpen,selected:this.selectComicHandler.bind(this),closed:this.closeModalHandler.bind(this),comic:this.state.comicDetail,loading:this.state.isLoadingModal,selectedComics:this.state.selectedComics}),Object(n.jsx)(v,{}),Object(n.jsxs)(y,{children:[Object(n.jsx)(N,{changed:this.inputChangedHandler,submited:this.searchComicsHandler}),Object(n.jsxs)(j.Provider,{value:{selectedComics:this.state.selectedComics,selectHandler:this.selectComicHandler.bind(this)},children:[Object(n.jsx)(ae,{comics:this.state.comics,clickedComic:this.showMoreHandler,loading:this.state.isLoading,lazyLoading:this.state.isLazyLoading}),Object(n.jsx)(Ce,{visible:this.state.isModalOpen,closed:this.closeModalHandler.bind(this),removed:this.removeComicHandler.bind(this),selectedComics:this.state.selectedComics,cleared:this.clearComics})]})]}),Object(n.jsxs)(I,{children:[Object(n.jsx)(re,{list:this.socialMedia}),Object(n.jsxs)("p",{children:["\xa9",this.currentYear," ",m.author]})]})]})}}]),a}(i.Component),Oe=function(){return Object(n.jsx)(xe,{})},ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),s(e),c(e)}))};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(Oe,{})}),document.getElementById("root")),ve()}],[[66,1,2]]]);
//# sourceMappingURL=main.914a2187.chunk.js.map