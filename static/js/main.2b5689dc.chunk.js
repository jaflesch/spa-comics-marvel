(this["webpackJsonpsoftdesign-frontend-challenge"]=this["webpackJsonpsoftdesign-frontend-challenge"]||[]).push([[0],{14:function(e,t,n){e.exports={Grid:"CardList_Grid__2ByDC",Loader:"CardList_Loader__1_ftE"}},2:function(e,t,n){e.exports={Container:"Modal_Container__3u8uZ",Animation:"Modal_Animation__3PGGz",Large:"Modal_Large__pwPAi",Small:"Modal_Small__nJnD6",Header:"Modal_Header__CHxTQ",Title:"Modal_Title__2aDPp",CloseButton:"Modal_CloseButton__2R0J3",Body:"Modal_Body__PC-MP",Detail:"Modal_Detail__1vzaA",Thumbnail:"Modal_Thumbnail__3hpZa",Text:"Modal_Text__1qRfo",Cancel:"Modal_Cancel__1mksA",Footer:"Modal_Footer__hwjZX"}},27:function(e,t,n){e.exports={Container:"MainContent_Container__3qV-m"}},28:function(e,t,n){e.exports={Container:"Form_Container__2dZ9V"}},29:function(e,t,n){e.exports={Main:"Footer_Main__31Uj1"}},3:function(e,t,n){e.exports={Card:"ComicCard_Card__27-cE",Thumbnail:"ComicCard_Thumbnail__2agdT",Fog:"ComicCard_Fog__2sai7",ThumbnailContainer:"ComicCard_ThumbnailContainer__zTfIs",Title:"ComicCard_Title__2atov",PageCount:"ComicCard_PageCount__TmUas"}},30:function(e,t,n){e.exports={Style:"Button_Style__17GbQ"}},31:function(e,t,n){e.exports={Loader:"Loader_Loader__1QPQH",load8:"Loader_load8__3-jH8"}},32:function(e,t,n){e.exports={Wrapper:"Backdrop_Wrapper__dTbKa"}},33:function(e,t,n){e.exports={Container:"SocialMediaList_Container__204iG"}},40:function(e,t,n){},41:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(4),i=n.n(c),s=n(25),o=n.n(s),r=(n(40),n(41),n(5)),l=n(6),d=n(13),u=n(11),h=n(26),j=n.n(h),m=function(){function e(){Object(r.a)(this,e),this.publicKey="9f10519dd487fe90f4db3fece4c12da0",this.baseURL="https://gateway.marvel.com:443/v1/public",this.axiosInstance=j.a.create({baseURL:this.baseURL})}return Object(l.a)(e,[{key:"getCharacters",value:function(e){return this.axiosInstance.get("/characters?apikey=".concat(this.publicKey)).then((function(e){return e.data}))}},{key:"getComics",value:function(e,t){var n=e?"titleStartsWith=".concat(e):"";return this.axiosInstance.get("/comics?".concat(n,"&orderBy=-focDate&apikey=").concat(this.publicKey)).then((function(e){return e.data}))}},{key:"getComicById",value:function(e){return this.axiosInstance.get("/comics/".concat(e,"?apikey=").concat(this.publicKey)).then((function(e){return console.log(e.data),e.data}))}}]),e}(),p=n(9),b=n.n(p),f=n.p+"static/media/marvel.99c8a213.svg",_=function(e){var t=[];return e.classes&&(t="string"===typeof e.classes?e.classes:e.classes.join(" ")),Object(a.jsx)("img",{src:f,alt:"Marvel",className:t})},x={author:"Jean Flesch",title:"SoftDesign React Challenge",emailJs:{serviceId:"23g3lpb",templateId:"marvelcomic",userId:"user_t6yHlRRXjluyONK5MfslZ",replyTo:"jean.flesch93@gmail.com"}},g=function(){return Object(a.jsxs)("header",{className:b.a.Container,children:[Object(a.jsx)(_,{classes:b.a.Logo}),Object(a.jsx)("div",{className:b.a.Challenge,children:Object(a.jsx)("h1",{className:b.a.ChallengeTitle,children:x.title})})]})},C=n(27),O=n.n(C),v=function(e){return Object(a.jsx)("main",{className:O.a.Container,children:e.children})},y=n(28),M=n.n(y),N=function(e){return Object(a.jsxs)("form",{className:M.a.Container,children:[Object(a.jsx)("input",{type:"text",onChange:e.changed,placeholder:"Pesquisar"}),Object(a.jsx)("button",{onClick:e.submited,children:Object(a.jsx)("i",{className:"fas fa-search"})})]})},L=n(29),T=n.n(L),k=function(e){return Object(a.jsx)("footer",{className:T.a.Main,children:e.children})},w=n(14),I=n.n(w),H=n(16),D=n(3),S=n.n(D),F=n(12),A=n(30),B=n.n(A),P=function(e){var t=[B.a.Style];return e.classes&&("string"===typeof e.classes?t.push(e.classes):t.push.apply(t,Object(F.a)(e.classes))),Object(a.jsx)("button",{className:t.join(" "),onClick:e.onClick,children:e.children})},W=function(e){var t="".concat(e.thumbnail.path,".").concat(e.thumbnail.extension);return Object(a.jsxs)("div",{className:S.a.Card,title:e.title,onMouseEnter:function(e){var t,n=document.querySelectorAll(".".concat(S.a.Card)),a=Object(H.a)(n);try{for(a.s();!(t=a.n()).done;){t.value.classList.add(S.a.Fog)}}catch(c){a.e(c)}finally{a.f()}e.target.classList.remove(S.a.Fog)},onMouseLeave:function(e){var t,n=document.querySelectorAll(".".concat(S.a.Fog)),a=Object(H.a)(n);try{for(a.s();!(t=a.n()).done;){t.value.classList.remove(S.a.Fog)}}catch(c){a.e(c)}finally{a.f()}},children:[Object(a.jsxs)("div",{className:S.a.ThumbnailContainer,children:[Object(a.jsx)("div",{className:S.a.Thumbnail,style:{backgroundImage:"url('".concat(t,"')")}}),Object(a.jsx)("div",{className:S.a.PageCount,children:Object(a.jsxs)("span",{children:[Object(a.jsx)("i",{className:"fab fa-readme"})," ",e.pageCount]})})]}),Object(a.jsx)("h3",{className:S.a.Title,title:e.title,children:e.title}),Object(a.jsx)(P,{onClick:e.showMore,children:"Ver mais"})]})},G=n(31),R=n.n(G),K=function(e){var t=null;return e.show&&(t=Object(a.jsx)("div",{className:R.a.Loader})),t},q=function(e){var t=Object(a.jsx)("p",{children:"No comics were found"});return e.loading?t=Object(a.jsxs)("div",{className:I.a.Loader,children:[Object(a.jsx)("p",{children:"Carregando..."}),Object(a.jsx)(K,{show:!0})]}):-1===e.comics?t=Object(a.jsx)("div",{className:I.a.Loader,children:Object(a.jsx)("p",{style:{textAlign:"center",width:"100%"},children:"Erro ao acessar API da Marvel. Por favor, tente novamente."})}):e.comics&&(t=e.comics.map((function(t){return Object(a.jsx)(W,{title:t.title,pageCount:t.pageCount,thumbnail:t.thumbnail,showMore:e.clickedComic.bind(undefined,t.id)},t.id)}))),Object(a.jsx)("div",{className:I.a.Grid,children:t})},E=n(32),J=n.n(E),U=function(e){return Object(a.jsx)("div",{className:e.visible?J.a.Wrapper:null,onClick:e.clicked})},Z=n(7),V=n.n(Z),Q=function(e){var t=[V.a.Alert];return e.type?(t.push(V.a.WithType),t.push(V.a[e.type]),e.type,Object(a.jsxs)("div",{className:t.join(" "),children:[Object(a.jsx)("div",{className:V.a.Icon}),Object(a.jsx)("div",{className:V.a.Content,children:e.children})]})):Object(a.jsx)("div",{className:t,children:(void 0).props.children})},z=n(2),X=n.n(z),Y=function(e){if(e){var t=e.description,n=e.diamondCode,a=e.digitalId,c=e.format,i=e.id,s=e.isbn,o=e.modified,r=e.pageCount;return{title:e.title,description:t,diamondCode:n,digitalId:a,format:c,id:i,isbn:s,modified:o,pageCount:r,creators:e.creators?Object(F.a)(e.creators.items):[],onSaleDate:e.dates[0]?e.dates[0].date:"",focDate:e.dates[1]?e.dates[1].date:"",price:e.prices[0]?e.prices[0].price:"",thumbnail:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension)}}return null},$=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).renderModalBody=function(){return console.log("@@@",Y(c.props.comic)),c.props.loading?Object(a.jsx)(K,{show:!0}):c.props.networkError?Object(a.jsx)(Q,{type:"Danger",children:"Ops! Something went wrong. Please try again soon."}):Object(a.jsxs)("div",{className:X.a.Detail,children:[Object(a.jsx)("div",{className:X.a.Thumbnail,children:c.props.comic&&c.props.comic.thumbnail?Object(a.jsx)("img",{src:c.props.comic.thumbnail.path+"."+c.props.comic.thumbnail.extension}):null}),Object(a.jsxs)("div",{className:X.a.Text,children:[Object(a.jsxs)("h3",{children:["formato: ",c.props.comic?c.props.comic.format:null]}),Object(a.jsxs)("h3",{children:["$",c.props.comic?c.props.comic.prices[0].price:null]}),Object(a.jsxs)("h3",{children:["pg",c.props.comic?c.props.comic.pageCount:null]}),Object(a.jsx)("h3",{children:c.props.comic&&c.props.comic.description?c.props.comic.description:"Nenhuma descri\xe7\xe3o fornecida"}),Object(a.jsx)("h3",{children:c.props.comic&&c.props.comic.urls?Object(a.jsx)("a",{href:c.props.comic.urls[0].url,target:"_blank",children:"Detalhe"}):null}),Object(a.jsx)("h3",{children:c.props.comic&&c.props.comic.urls.length>1?Object(a.jsx)("a",{href:c.props.comic.urls[1].url,target:"_blank",children:"Comprar"}):null})]})]})},c}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){var e=[X.a.Container];return this.props.visible&&e.push(X.a.Animation),this.props.comic&&this.props.comic.title,Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(U,{visible:this.props.visible,clicked:this.props.closed}),Object(a.jsxs)("div",{className:e.join(" "),children:[Object(a.jsxs)("div",{className:X.a.Header,children:[Object(a.jsx)("h3",{className:X.a.Title,children:"Informa\xe7\xf5es do quadrinho"}),Object(a.jsx)("button",{className:X.a.CloseButton,onClick:this.props.closed,children:"\xd7"})]}),Object(a.jsx)("div",{className:X.a.Body,children:this.renderModalBody()}),Object(a.jsxs)("div",{className:X.a.Footer,children:[Object(a.jsx)(P,{classes:X.a.Cancel,onClick:this.props.closed,children:"Fechar"}),Object(a.jsx)(P,{onClick:this.props.purchased,children:"Selecionar"})]})]})]})}}]),n}(c.Component),ee=n(33),te=n.n(ee),ne=function(e){var t=null;return e.icon&&(t=Object(a.jsx)("i",{className:e.icon})),Object(a.jsxs)("a",{href:e.to,target:e.external?"_blank":"",rel:e.external?"noreferrer":"",children:[t," ",e.children]})},ae=function(e){if(e.list){var t=e.list.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsx)(ne,{external:!0,to:e.url,name:e.name,icon:e.icon})},"".concat(t,"-").concat(e.name))}));return Object(a.jsx)("ul",{className:te.a.Container,children:t})}return null},ce=(n(34),n(62),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={comics:[],comicDetail:null,isLoading:!1,isModalOpen:!1,isLoadingModal:!0},a.fetchComics=function(e){(new m).getComics(e).then((function(e){a.setState({comics:e.data.results,isLoading:!1})})).catch((function(e){a.setState({comics:-1,isLoading:!1})}))},a.fetchComicById=function(e){(new m).getComicById(e).then((function(e){a.setState({comicDetail:e.data.results[0],isLoadingModal:!1})}))},a.inputChangedHandler=function(e){a.searchTitle=e.target.value},a.searchComicsHandler=function(e){e.preventDefault(),a.fetchComics(a.searchTitle)},a.showMoreHandler=function(e){a.setState({isModalOpen:!0,isLoadingModal:!0}),a.fetchComicById(e)},a.closeModalHandler=function(){a.setState({isModalOpen:!1})},a.searchTitle=null,a.currentYear=(new Date).getFullYear(),a.socialMedia=[{name:"LinkedIn",url:"https://www.linkedin.com/in/jean-flesch-19a189104/",icon:"fab fa-linkedin"},{name:"GitHub",url:"https://github.com/jaflesch",icon:"fab fa-github"}],a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.fetchComics("Marv")}},{key:"render",value:function(){return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)($,{visible:this.state.isModalOpen,closed:this.closeModalHandler.bind(this),comic:this.state.comicDetail,loading:this.state.isLoadingModal}),Object(a.jsx)(g,{}),Object(a.jsxs)(v,{children:[Object(a.jsx)(N,{changed:this.inputChangedHandler,submited:this.searchComicsHandler}),Object(a.jsx)(q,{comics:this.state.comics,clickedComic:this.showMoreHandler,loading:this.state.isLoading})]}),Object(a.jsxs)(k,{children:[Object(a.jsx)(ae,{list:this.socialMedia}),Object(a.jsxs)("p",{children:["\xa9",this.currentYear," ",x.author]})]})]})}}]),n}(c.Component)),ie=function(){return Object(a.jsx)(ce,{})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(ie,{})}),document.getElementById("root")),se()},7:function(e,t,n){e.exports={Alert:"Alert_Alert__MPlu3",WithType:"Alert_WithType__3yVn3",Content:"Alert_Content__3vxqK",Icon:"Alert_Icon__3l8bZ",Warning:"Alert_Warning__1Xt7e",Danger:"Alert_Danger__3cc6G"}},9:function(e,t,n){e.exports={Logo:"Header_Logo__1nHCK",Container:"Header_Container__jBVtR",Challenge:"Header_Challenge__2Oom2",ChallengeTitle:"Header_ChallengeTitle__HW-WL"}}},[[63,1,2]]]);
//# sourceMappingURL=main.2b5689dc.chunk.js.map